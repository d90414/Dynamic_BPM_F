<div class="m-b">
    <span class="text-md text-info font-bold">邮箱验证</span>
    <div class="line b-b b-info"></div>
</div>
<div class="panel panel-default">
    <div class="panel-body wrapper-lg" ng-switch on="step">
        <form ng-switch-when="1" name="myForm" class="form-horizontal form-validation" ng-submit="submitForm()">
            <div class="form-group">
                <label class="col-xs-3 control-label text-right">邮箱</label>
                <div class="col-xs-4 text-left">
                    <input type="email" class="form-control" placeholder="请输入您的新邮箱" name="email" ng-model="user.email" required ng-maxlength="60" ui-focus="true">
                </div>
                <div class="col-xs-5 error text-danger text-left text-base" style="padding-top: 7px;" ng-show="myForm.email.$invalid">
                    <span ng-show="myForm.submitted && myForm.email.$error.required">请输入您的邮箱</span>
                    <span ng-show="!myForm.email.$error.required && myForm.email.$dirty">请输入正确的邮箱</span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-xs-offset-3 col-xs-4">
                    <button type="submit" class="w-full btn btn-sm btn-info" ng-disabled="!myForm.$valid || tip == 2">
                        <span ng-show="tip == 1">发送邮件</span>
                        <span ng-show="tip == 2"><i class="fa fa-spin fa-spinner m-r-xs"></i>发送中...</span>
                    </button>
                </div>
            </div>
        </form>

        <div ng-switch-when="2" class="col-xs-offset-2 col-xs-8 text-left">
            <div>
                <span class="text-success">邮件已发送至</span>
                <span>{{inputtedEmail}}</span>
                <a ng-href="{{gotoEmailAddress}}" class="btn btn-sm btn-info" target="_blank">进入邮箱确认</a>
            </div>
            <div class="m-t">
                <span ng-click="showResend = !showResend">迟迟未收到邮件怎么办？</span>
            </div>
            <div class="m-t text-sm">请您到垃圾邮件中看看。没有？
                您可以
                <a href ng-class="{'text-info': !resended, 'text-primary': resended}" ng-click="resendBindingEmail()">重新发送邮件</a>
                或者
                <a href class="text-info" ng-click="changeAnother()">换一个邮箱</a>
            </div>
        </div>
    </div>
</div>